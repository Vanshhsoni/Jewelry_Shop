{% extends "core/base.html" %}
{% block content %}
<main class="flex-1 bg-[var(--primary-color)]">
  <section class="py-20 px-4 sm:px-10">
    <div class="max-w-7xl mx-auto">
        <h2 class="text-3xl sm:text-4xl font-bold text-center text-[var(--text-color)] mb-8 sm:mb-12">
            {{ category.name }}
          </h2>
          

      <!-- Search & Filters -->
      <div class="flex flex-col sm:flex-row items-center justify-between mb-8 sm:mb-12 gap-4">
        <div class="relative w-full sm:w-1/3">
          <input class="w-full pl-10 pr-4 py-2 border rounded-full text-[var(--text-color)] border-[var(--primary-color)] bg-white focus:outline-none focus:ring-2 focus:ring-[var(--secondary-color)]" 
                 id="search" name="search" placeholder="Search for rings..." type="text"/>
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg class="h-5 w-5 text-[var(--secondary-color)]" fill="currentColor" viewBox="0 0 20 20">
              <path clip-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" fill-rule="evenodd"></path>
            </svg>
          </div>
        </div>

        <div class="flex flex-col sm:flex-row items-center gap-4 sm:gap-2">
          <div class="relative">
            <select class="appearance-none w-full sm:w-auto bg-white border border-[var(--primary-color)] text-[var(--text-color)] py-2 px-4 pr-8 rounded-full focus:outline-none focus:ring-2 focus:ring-[var(--secondary-color)]" id="sort">
              <option>Sort by price</option>
              <option>Low to High</option>
              <option>High to Low</option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-[var(--secondary-color)]">
              <svg class="fill-current h-4 w-4" viewBox="0 0 20 20"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"/></svg>
            </div>
          </div>

          <div class="relative">
            <select class="appearance-none w-full sm:w-auto bg-white border border-[var(--primary-color)] text-[var(--text-color)] py-2 px-4 pr-8 rounded-full focus:outline-none focus:ring-2 focus:ring-[var(--secondary-color)]" id="price-range">
              <option>Price range</option>
              <option>$100 - $250</option>
              <option>$250 - $500</option>
              <option>$500+</option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-[var(--secondary-color)]">
              <svg class="fill-current h-4 w-4" viewBox="0 0 20 20"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"/></svg>
            </div>
          </div>
        </div>
      </div>
<!-- Product Grid -->
<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8">
    {% for product in products %}
    <a href="{% url 'shop:product_detail' product.id %}" class="group block">
      <div class="overflow-hidden rounded-lg">
        <img 
          src="{{ product.image.url }}" 
          alt="{{ product.name }}" 
          class="w-full h-auto object-cover aspect-[3/4] rounded-lg transition-transform duration-300 group-hover:scale-105"
        />
      </div>
      <div class="mt-4 text-center">
        <h3 class="text-lg font-medium text-[var(--text-color)]">{{ product.name }}</h3>
        <p class="text-[var(--secondary-color)] text-sm mt-1">${{ product.price }}</p>
        {% if product.is_available %}
        <span class="inline-block bg-green-100 text-green-800 text-xs font-medium mt-2 px-2.5 py-0.5 rounded-full">
          In Stock
        </span>
        {% else %}
        <span class="inline-block bg-red-100 text-red-800 text-xs font-medium mt-2 px-2.5 py-0.5 rounded-full">
          Out of Stock
        </span>
        {% endif %}
      </div>
    </a>
    {% empty %}
    <p class="text-center text-gray-500 col-span-full">No products available.</p>
    {% endfor %}
  </div>
  
      </div>
    </div>
  </section>
</main>
{% endblock %}

{% extends "core/base.html" %}
{% block content %}
<main class="flex-1 px-40 py-12">
  <h2 class="text-2xl font-bold mb-6">Complete Payment</h2>

  <button id="rzp-button1"
          class="w-full h-12 rounded-md bg-yellow-900 text-white font-bold hover:bg-yellow-800 transition">
    Pay Now â‚¹{{ order.total_amount }}
  </button>
</main>

<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
  var options = {
      "key": "{{ razorpay_key }}",
      "amount": "{{ amount }}", 
      "currency": "INR",
      "name": "My Shop",
      "description": "Order #{{ order.id }}",
      "order_id": "{{ razorpay_order_id }}",
      "theme": {
          "color": "#4E342E"  // ðŸ‘ˆ Brown theme
      },
      "handler": function (response){
          // yaha server ko success call bhejna hoga
          window.location.href = "{% url 'orders:order_success' order.id %}";
      },
      "prefill": {
          "name": "{{ receiver_name }}",
          "contact": "{{ receiver_phone }}"
      }
  };
  var rzp1 = new Razorpay(options);
  document.getElementById('rzp-button1').onclick = function(e){
      rzp1.open();
      e.preventDefault();
  }
</script>
{% endblock %}
